{"version":3,"sources":["../../../../../Yeti-College/app/blog/blog-client.tsx/__nextjs-internal-proxy.mjs","../../../../../Yeti-College/app/blog/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const categories = registerClientReference(\n    function() { throw new Error(\"Attempted to call categories() from the server but categories is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Yeti-College/app/blog/blog-client.tsx\",\n    \"categories\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Yeti-College/app/blog/blog-client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Yeti-College/app/blog/blog-client.tsx\",\n    \"default\",\n);\n","import { prisma } from \"@/lib/prisma\";\nimport BlogClient, { BlogPost } from \"./blog-client\";\n\nexport const dynamic = \"force-dynamic\";\n\nexport default async function BlogPage() {\n  // 1. Fetch Featured Post\n  const featured = await prisma.post.findFirst({\n    where: { featured: true },\n  });\n\n  // 2. Fetch Trending Posts\n  const trending = await prisma.post.findMany({\n    where: { trending: true },\n    orderBy: { date: \"desc\" },\n    take: 8,\n  });\n\n  // 3. Fetch All Posts (excluding featured to prevent duplicate hero)\n  const posts = await prisma.post.findMany({\n    where: { featured: false },\n    orderBy: { date: \"desc\" },\n  });\n\n  // Helper to safely format data\n  const formatPost = (post: any): BlogPost => ({\n    id: post.id,\n    title: post.title,\n    excerpt: post.excerpt || \"\",\n    author: post.author,\n    // Convert Date to string for client component\n    date: post.date.toLocaleDateString(\"en-US\", {\n      month: \"short\",\n      day: \"numeric\",\n      year: \"numeric\",\n    }),\n    readTime: post.readTime,\n    category: post.category,\n    image: post.image,\n    accent: post.accent || \"bg-orange-500\",\n  });\n\n  return (\n    <BlogClient\n      featuredPost={featured ? formatPost(featured) : null}\n      trendingPosts={trending.map(formatPost)}\n      allPosts={posts.map(formatPost)}\n    />\n  );\n}\n"],"names":[],"mappings":"ueACA,IAAA,EAAA,EAAA,CAAA,CAAA,MACO,IAAM,EAAa,CAAA,EAAA,EAAA,uBAAA,AAAuB,EAC7C,WAAa,MAAM,AAAI,MAAM,kOAAoO,EACjQ,sEACA,gBAEW,CAAA,EAAA,EAAA,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,uSAAyS,EACtU,sEACA,yEATJ,IAAA,EAAA,EAAA,CAAA,CAAA,MACO,IAAM,EAAa,CAAA,EAAA,EAAA,uBAAA,AAAuB,EAC7C,WAAa,MAAM,AAAI,MAAM,kOAAoO,EACjQ,kDACA,gBAEW,CAAA,EAAA,EAAA,uBAAuB,AAAvB,EACX,WAAa,MAAM,AAAI,MAAM,mRAAqR,EAClT,kDACA,4JCVJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,gBAIe,eAAe,IAE5B,IAAM,EAAW,MAAM,EAAA,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAC3C,MAAO,CAAE,UAAU,CAAK,CAC1B,GAGM,EAAW,MAAM,EAAA,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAC1C,MAAO,CAAE,UAAU,CAAK,EACxB,QAAS,CAAE,KAAM,MAAO,EACxB,KAAM,CACR,GAGM,EAAQ,MAAM,EAAA,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CACvC,MAAO,CAAE,UAAU,CAAM,EACzB,QAAS,CAAE,KAAM,MAAO,CAC1B,GAGM,EAAa,AAAC,IAAyB,CAC3C,EAD0C,CACtC,EAAK,EAAE,CACX,MAAO,EAAK,KAAK,CACjB,QAAS,EAAK,OAAO,EAAI,GACzB,OAAQ,EAAK,MAAM,CAEnB,KAAM,EAAK,IAAI,CAAC,kBAAkB,CAAC,QAAS,CAC1C,MAAO,QACP,IAAK,UACL,KAAM,SACR,GACA,SAAU,EAAK,QAAQ,CACvB,SAAU,EAAK,QAAQ,CACvB,MAAO,EAAK,KAAK,CACjB,OAAQ,EAAK,MAAM,EAAI,gBACzB,CAAC,CAED,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAU,CAAA,CACT,aAAc,EAAW,EAAW,GAAY,KAChD,cAAe,EAAS,GAAG,CAAC,GAC5B,SAAU,EAAM,GAAG,CAAC,IAG1B,2DA9CuB","ignoreList":[0]}